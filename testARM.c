#include <stdio.h>
#include <stdlib.h> 
#include <cblas.h>
#include <time.h>


void None (const double* A, const double* B, double* C) {
  __asm__ __volatile__(
    "ldr x0, %0\n\t"
    "ldr x1, %1\n\t"
    "ldr x2, %2\n\t"
      // unrolled_56x15x9
        // for x12 <- 0:1:7)
        "mov x12, #0\r\n"
        "LOOP_TOP_0:\r\n"
          // Unrolling over bn and bk
            // Load C register block @ (d=0,r=0)
            "ldp q12, q13, [x2, 0]\r\n"                                 // C [0,0] [0,0]
            "ldp q14, q15, [x2, 32]\r\n"                                // C [0,0] [4,0]
            "add x11, x2, #448\r\n"                                     // 
            "ldp q16, q17, [x11, 0]\r\n"                                // C [0,0] [0,1]
            "ldp q18, q19, [x11, 32]\r\n"                               // C [0,0] [4,1]
            "add x11, x2, #896\r\n"                                     // 
            "ldp q20, q21, [x11, 0]\r\n"                                // C [0,0] [0,2]
            "ldp q22, q23, [x11, 32]\r\n"                               // C [0,0] [4,2]
            "add x11, x2, #1344\r\n"                                    // 
            "ldp q24, q25, [x11, 0]\r\n"                                // C [0,0] [0,3]
            "ldp q26, q27, [x11, 32]\r\n"                               // C [0,0] [4,3]
            "add x11, x2, #1792\r\n"                                    // 
            "ldp q28, q29, [x11, 0]\r\n"                                // C [0,0] [0,4]
            "ldp q30, q31, [x11, 32]\r\n"                               // C [0,0] [4,4]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=6)
              "add x11, x0, #2688\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,6] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,6] [4,0]
            "ldr q4, [x1, 0]\r\n"                                       // B[6,0][0,0]
            "ldr q5, [x1, 8]\r\n"                                       // B[6,0][0,1]
            "ldr q6, [x1, 16]\r\n"                                      // B[6,0][0,2]
            "ldr q7, [x1, 24]\r\n"                                      // B[6,0][0,3]
            "fmla v12.2d, v0.2d, v4.1d[0]\r\n"                          // C[0:2,0] += A[0:2,0]*B[6,0][0,0]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[6,0][0,1]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[6,0][0,2]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[6,0][0,3]
            "fmla v13.2d, v1.2d, v4.1d[0]\r\n"                          // C[2:4,0] += A[2:4,0]*B[6,0][0,0]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[6,0][0,1]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[6,0][0,2]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[6,0][0,3]
            "fmla v14.2d, v2.2d, v4.1d[0]\r\n"                          // C[4:6,0] += A[4:6,0]*B[6,0][0,0]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[6,0][0,1]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[6,0][0,2]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[6,0][0,3]
            "fmla v15.2d, v3.2d, v4.1d[0]\r\n"                          // C[6:8,0] += A[6:8,0]*B[6,0][0,0]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[6,0][0,1]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[6,0][0,2]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[6,0][0,3]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=7)
              "add x11, x0, #3136\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,7] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,7] [4,0]
            "ldr q4, [x1, 32]\r\n"                                      // B[7,0][0,0]
            "ldr q5, [x1, 40]\r\n"                                      // B[7,0][0,1]
            "ldr q6, [x1, 48]\r\n"                                      // B[7,0][0,2]
            "ldr q7, [x1, 56]\r\n"                                      // B[7,0][0,3]
            "ldr q8, [x1, 64]\r\n"                                      // B[7,0][0,4]
            "fmla v12.2d, v0.2d, v4.1d[0]\r\n"                          // C[0:2,0] += A[0:2,0]*B[7,0][0,0]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[7,0][0,1]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[7,0][0,2]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[7,0][0,3]
            "fmla v28.2d, v0.2d, v8.1d[0]\r\n"                          // C[0:2,4] += A[0:2,0]*B[7,0][0,4]
            "fmla v13.2d, v1.2d, v4.1d[0]\r\n"                          // C[2:4,0] += A[2:4,0]*B[7,0][0,0]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[7,0][0,1]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[7,0][0,2]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[7,0][0,3]
            "fmla v29.2d, v1.2d, v8.1d[0]\r\n"                          // C[2:4,4] += A[2:4,0]*B[7,0][0,4]
            "fmla v14.2d, v2.2d, v4.1d[0]\r\n"                          // C[4:6,0] += A[4:6,0]*B[7,0][0,0]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[7,0][0,1]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[7,0][0,2]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[7,0][0,3]
            "fmla v30.2d, v2.2d, v8.1d[0]\r\n"                          // C[4:6,4] += A[4:6,0]*B[7,0][0,4]
            "fmla v15.2d, v3.2d, v4.1d[0]\r\n"                          // C[6:8,0] += A[6:8,0]*B[7,0][0,0]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[7,0][0,1]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[7,0][0,2]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[7,0][0,3]
            "fmla v31.2d, v3.2d, v8.1d[0]\r\n"                          // C[6:8,4] += A[6:8,0]*B[7,0][0,4]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=8)
              "add x11, x0, #3584\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,8] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,8] [4,0]
            "ldr q4, [x1, 72]\r\n"                                      // B[8,0][0,0]
            "ldr q5, [x1, 80]\r\n"                                      // B[8,0][0,1]
            "ldr q6, [x1, 88]\r\n"                                      // B[8,0][0,2]
            "ldr q8, [x1, 96]\r\n"                                      // B[8,0][0,4]
            "fmla v12.2d, v0.2d, v4.1d[0]\r\n"                          // C[0:2,0] += A[0:2,0]*B[8,0][0,0]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[8,0][0,1]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[8,0][0,2]
            "fmla v28.2d, v0.2d, v8.1d[0]\r\n"                          // C[0:2,4] += A[0:2,0]*B[8,0][0,4]
            "fmla v13.2d, v1.2d, v4.1d[0]\r\n"                          // C[2:4,0] += A[2:4,0]*B[8,0][0,0]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[8,0][0,1]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[8,0][0,2]
            "fmla v29.2d, v1.2d, v8.1d[0]\r\n"                          // C[2:4,4] += A[2:4,0]*B[8,0][0,4]
            "fmla v14.2d, v2.2d, v4.1d[0]\r\n"                          // C[4:6,0] += A[4:6,0]*B[8,0][0,0]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[8,0][0,1]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[8,0][0,2]
            "fmla v30.2d, v2.2d, v8.1d[0]\r\n"                          // C[4:6,4] += A[4:6,0]*B[8,0][0,4]
            "fmla v15.2d, v3.2d, v4.1d[0]\r\n"                          // C[6:8,0] += A[6:8,0]*B[8,0][0,0]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[8,0][0,1]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[8,0][0,2]
            "fmla v31.2d, v3.2d, v8.1d[0]\r\n"                          // C[6:8,4] += A[6:8,0]*B[8,0][0,4]
            // Store C register block @ (d=0,r=0)
            "stp q12, q13, [x2, 0]\r\n"                                 // C [0,0] [0,0]
            "stp q14, q15, [x2, 32]\r\n"                                // C [0,0] [4,0]
            "add x11, x2, #448\r\n"                                     // 
            "stp q16, q17, [x11, 0]\r\n"                                // C [0,0] [0,1]
            "stp q18, q19, [x11, 32]\r\n"                               // C [0,0] [4,1]
            "add x11, x2, #896\r\n"                                     // 
            "stp q20, q21, [x11, 0]\r\n"                                // C [0,0] [0,2]
            "stp q22, q23, [x11, 32]\r\n"                               // C [0,0] [4,2]
            "add x11, x2, #1344\r\n"                                    // 
            "stp q24, q25, [x11, 0]\r\n"                                // C [0,0] [0,3]
            "stp q26, q27, [x11, 32]\r\n"                               // C [0,0] [4,3]
            "add x11, x2, #1792\r\n"                                    // 
            "stp q28, q29, [x11, 0]\r\n"                                // C [0,0] [0,4]
            "stp q30, q31, [x11, 32]\r\n"                               // C [0,0] [4,4]
          "add x2, x2, #2240\r\n"                                     // Move C to (d=0,r=1)
            // Load C register block @ (d=0,r=0)
            "ldp q12, q13, [x2, 0]\r\n"                                 // C [0,0] [0,0]
            "ldp q14, q15, [x2, 32]\r\n"                                // C [0,0] [4,0]
            "add x11, x2, #448\r\n"                                     // 
            "ldp q16, q17, [x11, 0]\r\n"                                // C [0,0] [0,1]
            "ldp q18, q19, [x11, 32]\r\n"                               // C [0,0] [4,1]
            "add x11, x2, #896\r\n"                                     // 
            "ldp q20, q21, [x11, 0]\r\n"                                // C [0,0] [0,2]
            "ldp q22, q23, [x11, 32]\r\n"                               // C [0,0] [4,2]
            "add x11, x2, #1344\r\n"                                    // 
            "ldp q24, q25, [x11, 0]\r\n"                                // C [0,0] [0,3]
            "ldp q26, q27, [x11, 32]\r\n"                               // C [0,0] [4,3]
            "add x11, x2, #1792\r\n"                                    // 
            "ldp q28, q29, [x11, 0]\r\n"                                // C [0,0] [0,4]
            "ldp q30, q31, [x11, 32]\r\n"                               // C [0,0] [4,4]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=0)
              "ldp q0, q1, [x0, 0]\r\n"                                   // A [0,0] [0,0]
              "ldp q2, q3, [x0, 32]\r\n"                                  // A [0,0] [4,0]
            "ldr q5, [x1, 104]\r\n"                                     // B[0,1][0,1]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[0,1][0,1]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[0,1][0,1]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[0,1][0,1]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[0,1][0,1]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=1)
              "add x11, x0, #448\r\n"                                     // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,1] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,1] [4,0]
            "ldr q6, [x1, 112]\r\n"                                     // B[1,1][0,2]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[1,1][0,2]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[1,1][0,2]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[1,1][0,2]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[1,1][0,2]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=2)
              "add x11, x0, #896\r\n"                                     // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,2] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,2] [4,0]
            "ldr q7, [x1, 120]\r\n"                                     // B[2,1][0,3]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[2,1][0,3]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[2,1][0,3]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[2,1][0,3]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[2,1][0,3]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=3)
              "add x11, x0, #1344\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,3] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,3] [4,0]
            "ldr q5, [x1, 128]\r\n"                                     // B[3,1][0,1]
            "ldr q6, [x1, 136]\r\n"                                     // B[3,1][0,2]
            "ldr q7, [x1, 144]\r\n"                                     // B[3,1][0,3]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[3,1][0,1]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[3,1][0,2]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[3,1][0,3]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[3,1][0,1]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[3,1][0,2]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[3,1][0,3]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[3,1][0,1]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[3,1][0,2]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[3,1][0,3]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[3,1][0,1]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[3,1][0,2]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[3,1][0,3]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=4)
              "add x11, x0, #1792\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,4] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,4] [4,0]
            "ldr q6, [x1, 152]\r\n"                                     // B[4,1][0,2]
            "ldr q7, [x1, 160]\r\n"                                     // B[4,1][0,3]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[4,1][0,2]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[4,1][0,3]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[4,1][0,2]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[4,1][0,3]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[4,1][0,2]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[4,1][0,3]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[4,1][0,2]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[4,1][0,3]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=5)
              "add x11, x0, #2240\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,5] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,5] [4,0]
            "ldr q5, [x1, 168]\r\n"                                     // B[5,1][0,1]
            "ldr q7, [x1, 176]\r\n"                                     // B[5,1][0,3]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[5,1][0,1]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[5,1][0,3]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[5,1][0,1]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[5,1][0,3]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[5,1][0,1]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[5,1][0,3]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[5,1][0,1]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[5,1][0,3]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=6)
              "add x11, x0, #2688\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,6] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,6] [4,0]
            "ldr q4, [x1, 184]\r\n"                                     // B[6,1][0,0]
            "ldr q8, [x1, 192]\r\n"                                     // B[6,1][0,4]
            "fmla v12.2d, v0.2d, v4.1d[0]\r\n"                          // C[0:2,0] += A[0:2,0]*B[6,1][0,0]
            "fmla v28.2d, v0.2d, v8.1d[0]\r\n"                          // C[0:2,4] += A[0:2,0]*B[6,1][0,4]
            "fmla v13.2d, v1.2d, v4.1d[0]\r\n"                          // C[2:4,0] += A[2:4,0]*B[6,1][0,0]
            "fmla v29.2d, v1.2d, v8.1d[0]\r\n"                          // C[2:4,4] += A[2:4,0]*B[6,1][0,4]
            "fmla v14.2d, v2.2d, v4.1d[0]\r\n"                          // C[4:6,0] += A[4:6,0]*B[6,1][0,0]
            "fmla v30.2d, v2.2d, v8.1d[0]\r\n"                          // C[4:6,4] += A[4:6,0]*B[6,1][0,4]
            "fmla v15.2d, v3.2d, v4.1d[0]\r\n"                          // C[6:8,0] += A[6:8,0]*B[6,1][0,0]
            "fmla v31.2d, v3.2d, v8.1d[0]\r\n"                          // C[6:8,4] += A[6:8,0]*B[6,1][0,4]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=8)
              "add x11, x0, #3584\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,8] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,8] [4,0]
            "ldr q4, [x1, 200]\r\n"                                     // B[8,1][0,0]
            "fmla v12.2d, v0.2d, v4.1d[0]\r\n"                          // C[0:2,0] += A[0:2,0]*B[8,1][0,0]
            "fmla v13.2d, v1.2d, v4.1d[0]\r\n"                          // C[2:4,0] += A[2:4,0]*B[8,1][0,0]
            "fmla v14.2d, v2.2d, v4.1d[0]\r\n"                          // C[4:6,0] += A[4:6,0]*B[8,1][0,0]
            "fmla v15.2d, v3.2d, v4.1d[0]\r\n"                          // C[6:8,0] += A[6:8,0]*B[8,1][0,0]
            // Store C register block @ (d=0,r=0)
            "stp q12, q13, [x2, 0]\r\n"                                 // C [0,0] [0,0]
            "stp q14, q15, [x2, 32]\r\n"                                // C [0,0] [4,0]
            "add x11, x2, #448\r\n"                                     // 
            "stp q16, q17, [x11, 0]\r\n"                                // C [0,0] [0,1]
            "stp q18, q19, [x11, 32]\r\n"                               // C [0,0] [4,1]
            "add x11, x2, #896\r\n"                                     // 
            "stp q20, q21, [x11, 0]\r\n"                                // C [0,0] [0,2]
            "stp q22, q23, [x11, 32]\r\n"                               // C [0,0] [4,2]
            "add x11, x2, #1344\r\n"                                    // 
            "stp q24, q25, [x11, 0]\r\n"                                // C [0,0] [0,3]
            "stp q26, q27, [x11, 32]\r\n"                               // C [0,0] [4,3]
            "add x11, x2, #1792\r\n"                                    // 
            "stp q28, q29, [x11, 0]\r\n"                                // C [0,0] [0,4]
            "stp q30, q31, [x11, 32]\r\n"                               // C [0,0] [4,4]
          "add x2, x2, #2240\r\n"                                     // Move C to (d=0,r=1)
            // Load C register block @ (d=0,r=0)
            "ldp q12, q13, [x2, 0]\r\n"                                 // C [0,0] [0,0]
            "ldp q14, q15, [x2, 32]\r\n"                                // C [0,0] [4,0]
            "add x11, x2, #448\r\n"                                     // 
            "ldp q16, q17, [x11, 0]\r\n"                                // C [0,0] [0,1]
            "ldp q18, q19, [x11, 32]\r\n"                               // C [0,0] [4,1]
            "add x11, x2, #896\r\n"                                     // 
            "ldp q20, q21, [x11, 0]\r\n"                                // C [0,0] [0,2]
            "ldp q22, q23, [x11, 32]\r\n"                               // C [0,0] [4,2]
            "add x11, x2, #1344\r\n"                                    // 
            "ldp q24, q25, [x11, 0]\r\n"                                // C [0,0] [0,3]
            "ldp q26, q27, [x11, 32]\r\n"                               // C [0,0] [4,3]
            "add x11, x2, #1792\r\n"                                    // 
            "ldp q28, q29, [x11, 0]\r\n"                                // C [0,0] [0,4]
            "ldp q30, q31, [x11, 32]\r\n"                               // C [0,0] [4,4]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=6)
              "add x11, x0, #2688\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,6] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,6] [4,0]
            "ldr q6, [x1, 208]\r\n"                                     // B[6,2][0,2]
            "ldr q8, [x1, 216]\r\n"                                     // B[6,2][0,4]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[6,2][0,2]
            "fmla v28.2d, v0.2d, v8.1d[0]\r\n"                          // C[0:2,4] += A[0:2,0]*B[6,2][0,4]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[6,2][0,2]
            "fmla v29.2d, v1.2d, v8.1d[0]\r\n"                          // C[2:4,4] += A[2:4,0]*B[6,2][0,4]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[6,2][0,2]
            "fmla v30.2d, v2.2d, v8.1d[0]\r\n"                          // C[4:6,4] += A[4:6,0]*B[6,2][0,4]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[6,2][0,2]
            "fmla v31.2d, v3.2d, v8.1d[0]\r\n"                          // C[6:8,4] += A[6:8,0]*B[6,2][0,4]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=7)
              "add x11, x0, #3136\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,7] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,7] [4,0]
            "ldr q4, [x1, 224]\r\n"                                     // B[7,2][0,0]
            "ldr q6, [x1, 232]\r\n"                                     // B[7,2][0,2]
            "ldr q7, [x1, 240]\r\n"                                     // B[7,2][0,3]
            "fmla v12.2d, v0.2d, v4.1d[0]\r\n"                          // C[0:2,0] += A[0:2,0]*B[7,2][0,0]
            "fmla v20.2d, v0.2d, v6.1d[0]\r\n"                          // C[0:2,2] += A[0:2,0]*B[7,2][0,2]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[7,2][0,3]
            "fmla v13.2d, v1.2d, v4.1d[0]\r\n"                          // C[2:4,0] += A[2:4,0]*B[7,2][0,0]
            "fmla v21.2d, v1.2d, v6.1d[0]\r\n"                          // C[2:4,2] += A[2:4,0]*B[7,2][0,2]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[7,2][0,3]
            "fmla v14.2d, v2.2d, v4.1d[0]\r\n"                          // C[4:6,0] += A[4:6,0]*B[7,2][0,0]
            "fmla v22.2d, v2.2d, v6.1d[0]\r\n"                          // C[4:6,2] += A[4:6,0]*B[7,2][0,2]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[7,2][0,3]
            "fmla v15.2d, v3.2d, v4.1d[0]\r\n"                          // C[6:8,0] += A[6:8,0]*B[7,2][0,0]
            "fmla v23.2d, v3.2d, v6.1d[0]\r\n"                          // C[6:8,2] += A[6:8,0]*B[7,2][0,2]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[7,2][0,3]
            // Block GEMM microkernel
              // Load A register block @ (d=0,r=8)
              "add x11, x0, #3584\r\n"                                    // 
              "ldp q0, q1, [x11, 0]\r\n"                                  // A [0,8] [0,0]
              "ldp q2, q3, [x11, 32]\r\n"                                 // A [0,8] [4,0]
            "ldr q5, [x1, 248]\r\n"                                     // B[8,2][0,1]
            "add x11, x1, #256\r\n"                                     // 
            "ldr q7, [x11, 0]\r\n"                                      // B[8,2][0,3]
            "ldr q8, [x11, 8]\r\n"                                      // B[8,2][0,4]
            "fmla v16.2d, v0.2d, v5.1d[0]\r\n"                          // C[0:2,1] += A[0:2,0]*B[8,2][0,1]
            "fmla v24.2d, v0.2d, v7.1d[0]\r\n"                          // C[0:2,3] += A[0:2,0]*B[8,2][0,3]
            "fmla v28.2d, v0.2d, v8.1d[0]\r\n"                          // C[0:2,4] += A[0:2,0]*B[8,2][0,4]
            "fmla v17.2d, v1.2d, v5.1d[0]\r\n"                          // C[2:4,1] += A[2:4,0]*B[8,2][0,1]
            "fmla v25.2d, v1.2d, v7.1d[0]\r\n"                          // C[2:4,3] += A[2:4,0]*B[8,2][0,3]
            "fmla v29.2d, v1.2d, v8.1d[0]\r\n"                          // C[2:4,4] += A[2:4,0]*B[8,2][0,4]
            "fmla v18.2d, v2.2d, v5.1d[0]\r\n"                          // C[4:6,1] += A[4:6,0]*B[8,2][0,1]
            "fmla v26.2d, v2.2d, v7.1d[0]\r\n"                          // C[4:6,3] += A[4:6,0]*B[8,2][0,3]
            "fmla v30.2d, v2.2d, v8.1d[0]\r\n"                          // C[4:6,4] += A[4:6,0]*B[8,2][0,4]
            "fmla v19.2d, v3.2d, v5.1d[0]\r\n"                          // C[6:8,1] += A[6:8,0]*B[8,2][0,1]
            "fmla v27.2d, v3.2d, v7.1d[0]\r\n"                          // C[6:8,3] += A[6:8,0]*B[8,2][0,3]
            "fmla v31.2d, v3.2d, v8.1d[0]\r\n"                          // C[6:8,4] += A[6:8,0]*B[8,2][0,4]
            // Store C register block @ (d=0,r=0)
            "stp q12, q13, [x2, 0]\r\n"                                 // C [0,0] [0,0]
            "stp q14, q15, [x2, 32]\r\n"                                // C [0,0] [4,0]
            "add x11, x2, #448\r\n"                                     // 
            "stp q16, q17, [x11, 0]\r\n"                                // C [0,0] [0,1]
            "stp q18, q19, [x11, 32]\r\n"                               // C [0,0] [4,1]
            "add x11, x2, #896\r\n"                                     // 
            "stp q20, q21, [x11, 0]\r\n"                                // C [0,0] [0,2]
            "stp q22, q23, [x11, 32]\r\n"                               // C [0,0] [4,2]
            "add x11, x2, #1344\r\n"                                    // 
            "stp q24, q25, [x11, 0]\r\n"                                // C [0,0] [0,3]
            "stp q26, q27, [x11, 32]\r\n"                               // C [0,0] [4,3]
            "add x11, x2, #1792\r\n"                                    // 
            "stp q28, q29, [x11, 0]\r\n"                                // C [0,0] [0,4]
            "stp q30, q31, [x11, 32]\r\n"                               // C [0,0] [4,4]
        "add x0, x0, #64\r\n"                                       // Move A to (d=1,r=0)
        "mov x11, #-4416\r\n"                                       // load immediate that requires more than 12 bit
        "add x2, x2, x11\r\n"                                       // Move C to (d=1,r=-2)
        "add x12, x12, #1\r\n"
        "cmp x12, #7\r\n"
        "b.lo LOOP_TOP_0\r\n"

    : : "m"(A), "m"(B), "m"(C) : "r0","r11","r12","r2","v0","v12","v13","v14","v15","v16","v17","v18","v19","v2","v20","v21","v22","v23","v24","v25","v26","v27","v28","v29","v30","v31","v4","v5","v6","v7","v8");
};



int main(void) {


  const double BB[135] = {0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,
                          1.0,1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1.0,0.0,0.0,1.0,0.0,1.0,
                          1.0,1.0,1.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,1.0,1.0,0.0,
                          1.0,1.0,1.0,0.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,1.0,1.0 };

  const double B2[135] = {0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,1.0,
                          1.0,0.0,0.0,1.0,0.0,1.0,0.0,0.0,0.0,
                          0.0,1.0,0.0,1.0,1.0,0.0,0.0,0.0,0.0,
                          0.0,0.0,1.0,1.0,1.0,1.0,0.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,0.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,
                          0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,1.0,
  };
  //const double AA[64] = {1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1};
  //double *A = (double *)malloc(56 * 9 * sizeof(double));
  //double *B = (double *)malloc(64 * sizeof(double));
  //double *C = (double *)malloc(64 * sizeof(double));
  
  double *A;
  double *B;
  double *C;

  int resA = posix_memalign((double *)(&A), 64, 56*9*sizeof(double));
  int resB = posix_memalign((double *)(&B), 64, 34*sizeof(double));
  int resC = posix_memalign((double *)(&C), 64, 56*15*sizeof(double));

  for(int i = 0; i < 56*9; i++)
  {
    if((i / 56) % 2 == 0)
      A[i] = 1;
    else
      A[i] = 0;
  }

  for(int i = 0; i < 34; i++)
  {
    B[i] = 1;
  }

  for(int i = 0; i < 56 * 15; i++)
  {
    C[i] = 0;
  }


  printf("A\n");

  for(int i = 0; i < 56*9; i++)
  {
    if(i % 9 == 0)
      printf("\n");
    printf("%f  ", A[((i * 56) % (56 * 9)) + i / 9]);
  }

  printf("\n");

  printf("B\n");

  for(int i = 0; i < 9 * 15; i++)
  {
    if(i % 15 == 0)
      printf("\n");
    printf("%f  ", BB[i]);
  }

  printf("\n");


  clock_t start, end;
  double cpu_time_used;
  start = clock();
  for(int i = 0; i < 5000000; i++)
  {
    gemm(A,B,C);
  }
  end = clock();
  cpu_time_used = ((double) (end - start)) / CLOCKS_PER_SEC;

  printf("time used by sparse MM : %f\n", cpu_time_used);

  start = clock();
  for(int i = 0; i < 5000000; i++)
  {
    cblas_dgemm(CblasColMajor, CblasNoTrans, CblasNoTrans, 56, 15, 9, 1, A, 56, B2, 9, 1, C, 56);
  }
  end = clock();
  cpu_time_used = ((double) (end - start)) / CLOCKS_PER_SEC;
  
  printf("time used by blas : %f\n", cpu_time_used);

  printf("C\n");

  for(int i = 0; i < 56 * 15; i++)
  {
    if(i % 15 == 0)
      printf("\n");
    printf("%f  ", C[((i * 56) % (56 * 15)) + i / 15]);
  }

  printf("\n");


  return 0;
}
